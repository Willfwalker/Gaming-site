<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Register - BUG Site</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/auth.css') }}">
</head>
<body>
    <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
        <svg id="moon-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 3a9 9 0 1 0 9 9c0-.46-.04-.92-.1-1.36a5.389 5.389 0 0 1-4.4 2.26 5.403 5.403 0 0 1-3.14-9.8c-.44-.06-.9-.1-1.36-.1z"></path></svg>
        <svg id="sun-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" style="display: none;"><path d="M12 7a5 5 0 1 0 0 10 5 5 0 0 0 0-10zm0-5a1 1 0 0 0 1-1V1a1 1 0 0 0-2 0v.01a1 1 0 0 0 1 .99zm0 20a1 1 0 0 0-1 1v.01a1 1 0 1 0 2 0V23a1 1 0 0 0-1-1zm9-10a1 1 0 0 0 1-1 1 1 0 0 0-1-1h-.01a1 1 0 0 0 0 2H21zm-20 0a1 1 0 0 0 1-1 1 1 0 0 0-1-1H1a1 1 0 0 0 0 2h.01zM4.929 4.929a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414l-.01-.01a.999.999 0 1 0-1.414 1.414l.01.01zm12.728 12.728a.997.997 0 0 0 1.414 0 .999.999 0 0 0 0-1.414l-.01-.01a.999.999 0 1 0-1.414 1.414l.01.01zM4.929 19.071a.997.997 0 0 0 0-1.414.999.999 0 0 0-1.414 0l-.01.01a.999.999 0 1 0 1.414 1.414l.01-.01zm12.728-12.728a.997.997 0 0 0 0-1.414.999.999 0 0 0-1.414 0l-.01.01a.999.999 0 1 0 1.414 1.414l.01-.01z"></path></svg>
    </button>
    <div class="auth-container">
        <h1 class="auth-title">Register</h1>
        
        <!-- Display error messages if any -->
        {% if error %}
        <div class="auth-alert">
            {{ error }}
        </div>
        {% endif %}
        
        <div class="auth-form">
            <form method="POST" action="{{ url_for('register_page') }}">
                <div class="form-group">
                    <label for="username" class="form-label">Username</label>
                    <input type="text" id="username" name="username" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="email" class="form-label">Email</label>
                    <input type="email" id="email" name="email" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="password" class="form-label">Password</label>
                    <input type="password" id="password" name="password" class="form-input" required>
                </div>
                
                <div class="form-group">
                    <label for="confirm_password" class="form-label">Confirm Password</label>
                    <input type="password" id="confirm_password" name="confirm_password" class="form-input" required>
                </div>
                
                <button type="submit" class="btn-primary">Register</button>
            </form>
                        
            <div class="auth-footer">
                Already have an account? <a href="{{ url_for('login_view') }}" class="auth-link">Login</a>
            </div>
        </div>
    </div>
    <script>
        // Theme toggle functionality
        document.addEventListener('DOMContentLoaded', function() {
            const themeToggle = document.getElementById('theme-toggle');
            const moonIcon = document.getElementById('moon-icon');
            const sunIcon = document.getElementById('sun-icon');
            
            // Check for saved theme preference or use default
            const savedTheme = localStorage.getItem('theme');
            if (savedTheme === 'light') {
                document.body.classList.add('light-theme');
                moonIcon.style.display = 'none';
                sunIcon.style.display = 'block';
            }
            
            // Toggle theme when button is clicked
            themeToggle.addEventListener('click', function() {
                document.body.classList.toggle('light-theme');
                
                // Update icons
                if (document.body.classList.contains('light-theme')) {
                    moonIcon.style.display = 'none';
                    sunIcon.style.display = 'block';
                    localStorage.setItem('theme', 'light');
                } else {
                    moonIcon.style.display = 'block';
                    sunIcon.style.display = 'none';
                    localStorage.setItem('theme', 'dark');
                }
            });
        });
    </script>
</body>
</html>
